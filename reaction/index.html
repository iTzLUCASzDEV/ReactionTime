<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <title>Reaction</title>
    <style>
        html{
            overflow-x: hidden;
            overflow-y: hidden;            
        }
        body {
            margin: 0;
        }
        div{
            
        }
        .btn-primary {
            background-color: black;
            width: 100vw;
            height: 100vh;
            color: aliceblue;
            font-family: 'Oswald', sans-serif;
            border: none;
            outline: none;
            font-size: 4vw;
        }
        
    </style>
</head>
<body>
    <div class="btn-pdiv"> 
        <input type="button" value="Aperte para comeÃ§ar" class="btn btn-primary" onmousedown="btn()">

    </div>
    <script>
        const button = document.querySelector(".btn-primary");
        let btndiv = document.querySelector(".btn-pdiv")
        let actualValue = 0

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function random() {return Math.floor(Math.random()*10000)}
        let xcount = 0
        let time = 0
        var currentTime = 0
        var millisecondsPassed = 0

        function tellTime(){
            currentTime = new Date();
            millisecondsPassed = currentTime.getTime();
            console.log(millisecondsPassed);

            let time = {"min": new Date().getMinutes(), "s": new Date().getSeconds(),"ms": new Date().getMilliseconds()}
            console.log(time)
        }     

        //async function count() {
        //    if(xcount == 0){
        //        await sleep(1)
        //        time++
        //        console.log(time)
        //        count()
        //    }else{
        //        time = 0
        //        return
        //    }
        //}

       //function interval(){setInterval(() => {
       //    count++;
       //    console.log(`Count: ${count}`);
       //}, 1);
       //}

        //const stopButton = document.querySelector(".btn-primary");
        //stopButton.addEventListener('click', () => {
        //    clearInterval(interval);
        //});


        async function starting(){
            xcount = 0
            //btndiv.innerHTML = '<input type="button" value="aaa" class="btn btn-primary" onmousedown="btn()">'
            button.setAttribute("value", "");
            button.style.backgroundColor = "Red";
            await sleep(random()); 
            stop();
        }

        function stop(){
            button.style.backgroundColor = "Green";
            tellTime()
        }

        function end(){   
            button.style.backgroundColor = "Black";  
            let actualTime = new Date().getTime()
            time = actualTime - millisecondsPassed           
            button.setAttribute("value", `${time}ms`);
            xcount = 1
        }

        function change(x){
            if(x == 0){
                actualValue++
                starting()
            }else{
                actualValue = 0
                end()
            }
        }

        function btn(){
            change(actualValue);    
        }
    </script>
</body>
</html>